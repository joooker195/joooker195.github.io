<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../hydrolysis/hydrolysis-analyzer.html"><link rel="import" href="../iron-ajax/iron-ajax.html"><link rel="import" href="../iron-doc-viewer/iron-doc-viewer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../iron-selector/iron-selector.html"><link rel="import" href="../paper-header-panel/paper-header-panel.html"><link rel="import" href="../paper-styles/color.html"><link rel="import" href="../paper-styles/typography.html"><link rel="import" href="../paper-toolbar/paper-toolbar.html"></head><body><dom-module id="iron-component-page"><template><style>:host{font-family:'Roboto', 'Noto', sans-serif;@apply (--layout-fit);@apply (--layout);@apply (--layout-vertical);overflow:hidden;background:var(--paper-grey-50);}[hidden]{display:none !important;}p{max-width:20em;}paper-header-panel{@apply (--layout-flex);background:var(--paper-grey-50);}paper-toolbar{--paper-toolbar-background:var(--paper-grey-50);--paper-toolbar-color:var(--paper-grey-800);flex-shrink:0;}:host > paper-header-panel{opacity:0;transition:opacity 0.5s;}:host(.loaded) > paper-header-panel{opacity:1.0;}#content{display:block;background:var(--paper-grey-50);}paper-toolbar a{margin:0 10px;cursor:pointer;}paper-toolbar a:last-child{margin-right:0;}paper-toolbar a, paper-toolbar a iron-icon{font-weight:normal;color:var(--paper-grey-500);}paper-toolbar iron-icon{margin:-2px 5px 0 0;}paper-toolbar a.iron-selected, paper-toolbar a.iron-selected iron-icon{color:var(--paper-grey-800);}paper-toolbar a:hover, paper-toolbar a:hover iron-icon{color:var(--paper-pink-500);}select{cursor:pointer;}#demo iframe{@apply (--layout-fit);}#nodocs{background:var(--paper-grey-50);font-size:24px;font-weight:400;color:var(--paper-grey-400);}#demo iframe{border:0;background:transparent;width:100%;height:100%;overflow-x:none;overflow-y:auto;}#view > *{display:none;}#view > .iron-selected{display:block;}#docs{max-width:var(--iron-component-page-max-width, 48em);@apply (--iron-component-page-container);padding:20px;margin:0 auto;}#active{font-size:20px;font-family:Roboto, Noto;border:0;background:transparent;}paper-toolbar a{font-size:14px;text-transform:uppercase;cursor:pointer;}#cart-icon{margin-left:10px;cursor:pointer;}#catalog-heading{margin:4px 0 18px;}#catalog-heading h2{color:var(--paper-grey-800);@apply (--paper-font-title);margin:0;}#catalog-heading .version{color:var(--paper-grey-500);font-size:18px;line-height:24px;font-weight:400;}#catalog-heading .version:before{content:"(";}#catalog-heading .version:after{content:")";}[catalog-only]{display:none;}:host([catalog]) [catalog-only]{display:block;}:host([catalog]) [catalog-hidden]{display:none;}.no-docs{@apply (--layout-horizontal);@apply (--layout-center-center);@apply (--layout-fit);}.docs-header{@apply (--layout-flex);}</style><hydrolysis-analyzer id="analyzer" src="[[_srcUrl]]" transitive="[[transitive]]" clean="" analyzer="{{_hydroDesc}}" loading="{{_hydroLoading}}"></hydrolysis-analyzer><iron-ajax id="ajax" url="[[docSrc]]" handle-as="json" on-response="_handleAjaxResponse" on-error="_handleError"></iron-ajax><paper-header-panel id="headerPanel" mode="[[scrollMode]]"><paper-toolbar catalog-hidden=""><div class="docs-header"><select id="active" value="[[active]]" on-change="_handleMenuItemSelected"><template is="dom-repeat" items="[[docElements]]"><option value="[[item.is]]">[[item.is]]</option></template><template is="dom-repeat" items="[[docBehaviors]]"><option value="[[item.is]]">[[item.is]]</option></template></select></div><iron-selector attr-for-selected="view" selected="{{view}}" id="links" hidden$="[[!docDemos.length]]"><a view="docs"><iron-icon icon="description"></iron-icon>Docs</a> <a view="[[_demoView(docDemos.0.path)]]"><iron-icon icon="visibility"></iron-icon><span>Demo</span></a></iron-selector></paper-toolbar><div id="content"><iron-selector id="view" selected="[[_viewType(view)]]" attr-for-selected="id"><div id="docs"><div id="catalog-heading" catalog-only=""><h2><span>[[active]]</span> <span class="version" hidden$="[[!version]]">[[version]]</span></h2></div><content select=".warning"></content><iron-doc-viewer prefix="[[_fragmentPrefix]]" id="viewer" descriptor="{{_activeDescriptor}}" on-iron-doc-viewer-component-selected="_handleComponentSelectedEvent"></iron-doc-viewer><div id="nodocs" hidden$="[[_activeDescriptor]]" class="no-docs">No documentation found.</div></div><div id="demo"></div></iron-selector></div></paper-header-panel></template><script>(function(){function a(b){return b.match(/^(.*?)\/?([^\/]+\.[^\/]+)?$/)[1]+'/'}Polymer({is:'iron-component-page',properties:{src:{type:String,observer:'_srcChanged'},docSrc:{type:String,observer:'_srcChanged'},branchName:{type:String,value:'master'},base:{type:String,value:function(){return this.ownerDocument.baseURI.replace(/\#.*$/,'')}},active:{type:String,notify:!0,value:''},view:{type:String,value:'docs',notify:!0},transitive:{type:Boolean,value:!1},docElements:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},docBehaviors:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},docDemos:{type:Array,notify:!0,readOnly:!0},scrollMode:{type:String,value:'waterfall'},_activeDescriptor:Object,_fragmentPrefix:String,catalog:{type:Boolean,value:!1,reflectToAttribute:!0},version:String,_analyzer:{type:Object,observer:'_analyzerChanged'},_hydroDesc:{type:Object,observer:'_detectAnalyzer'},_ajaxDesc:{type:Object,observer:'_detectAnalyzer'},_loading:{type:Boolean,observer:'_loadingChanged'},_hydroLoading:{type:Boolean,observer:'_detectLoading'},_ajaxLoading:{type:Boolean,observer:'_detectLoading'},_demoUrl:{type:String,value:''},_srcUrl:String},observers:['_updateFrameSrc(view, base)','_activeChanged(active, _analyzer)'],attached:function(){this.catalog||(this._setActiveFromHash(),this.listen(window,'hashchange','_setActiveFromHash'))},detached:function(){this.catalog||this.unlisten(window,'hashchange','_setActiveFromHash')},ready:function(){var b=this._loadJson();b?(this.docElements=b,this._loading=!1):!this.src&&!this.catalog&&this._srcChanged()},_loadJson:function(){var b='';if(Array.prototype.forEach.call(Polymer.dom(this).childNodes,function(f){b+=f.textContent}),b=b.trim(),''==b)return null;try{var c=JSON.parse(b);return Array.isArray(c)?c:[]}catch(f){throw console.error('Failure when parsing JSON:',b,f),f}},_setActiveFromHash:function(b){var b=window.location.hash;if(b){var c=b.indexOf(':');c=-1==c?b.length:c;var f=b.slice(1,c);this.active!=f&&(this.active=f),this.$.viewer.scrollToAnchor(b)}},_srcChanged:function(){var b;if(this.docSrc)return this.$.ajax.lastRequest&&(this.docSrc===this.$.ajax.lastRequest.url||this.docSrc===this._lastDocSrc)||(this._ajaxLoading=!0,this._ajaxDesc=null,this._activeDescriptor=null,this.$.ajax.generateRequest()),void(this._lastDocSrc=this.docSrc);if(this.src)b=new URL(this.src,this.base).toString();else{var c=a(this.base);b=new URL(c.match(/([^\/]*)\/$/)[1]+'.html',c).toString()}var f=b.match(/([^\/\.]+)\.github\.io\/([^\/]+)\/?([^\/]*)$/);f&&(b='https://cdn.rawgit.com/'+f[1]+'/'+f[2]+'/'+this.branchName+'/'+f[3]),this._baseUrl=a(b),this._srcUrl=b,this._hydroLoading||this.$.analyzer.analyze()},_updateFrameSrc:function(b){if(!b||0!==b.indexOf('demo:'))return'about:blank';var c=b.split(':')[1],f=new URL(c,this.base).toString(),g=this;this._iframe&&Polymer.dom(this.$.demo).removeChild(this._iframe),this._iframe=document.createElement('iframe'),this._iframe.src=f,this._iframe.allowFullscreen=!0,this._iframe.style.height='0%',this._iframe.addEventListener('load',function(){var h=g._iframe.contentWindow;h.HTMLImports?h.HTMLImports.whenReady(function(){h.Polymer?h.Polymer.RenderStatus.afterNextRender(g,function(){g._iframe.style.height='100%'}):g._iframe.style.height='100%'}):g._iframe.style.height='100%'}),Polymer.dom(this.$.demo).appendChild(this._iframe)},_getDefaultActive:function(){function b(h){for(var j,k=0;k<h.length;k++)if(j=h[k],j&&j.contentHref&&0<j.contentHref.indexOf(g))return j;return null}var c,f=this._srcUrl||this.base,g=f.replace(a(this.base),'');return(c=b(this.docElements)||b(this.docBehaviors),c)?c.is:0<this.docElements.length?this.docElements[0].is:0<this.docBehaviors.length?this.docBehaviors[0].is:null},_findDescriptor:function(b){if(!this._analyzer)return null;var c=this._analyzer.elementsByTagName[b];if(c)return c;for(var f=0;f<this._analyzer.behaviors.length;f++)if(this._analyzer.behaviors[f].is===b)return this._analyzer.behaviors[f];return null},_activeChanged:function(b,c){if(''===b)return void(this.active=this._getDefaultActive());if(this.async(function(){this.$.active.value=b}),c&&c.elementsByTagName){if(this.$.headerPanel.scroller.scrollTop=0,this._activeDescriptor=this._findDescriptor(b),this._activeDescriptor){var f,g=this._activeDescriptor.demos;if(this.view&&g&&g.length){var h=this.view.split(':');'demo'==h[0]&&(h[1]&&(f=g.some(function(j){if(j.path==h[1])return!0})),!f&&(this.view='demo:'+g[0].path,f=!0))}void 0==!f&&(this.view='docs'),this._activeDescriptor.is&&!document.title&&(document.title=this._activeDescriptor.is+' documentation'),this._fragmentPrefix=this._activeDescriptor.is&&!this.catalog?this._activeDescriptor.is+':':'',this.$.viewer.scrollToAnchor(window.location.hash)}this._setDocDemos(this._activeDescriptor?this._activeDescriptor.demos:[])}},_loadingChanged:function(){this.toggleClass('loaded',!this._loading)},_detectLoading:function(){this._loading=this.docSrc?this._ajaxLoading:this._hydroLoading},_analyzerChanged:function(){var b=this._analyzer;this._setDocElements(b&&b.elements?b.elements:[]),this._setDocBehaviors(b&&b.behaviors?b.behaviors:[]),this._findDescriptor(this.active)||(this.active=this._getDefaultActive())},_detectAnalyzer:function(){this._analyzer=this.docSrc?this._ajaxDesc:this._hydroDesc},_handleMenuItemSelected:function(b){b.target&&b.target.value&&(window.location.hash='#'+b.target.value)},_handleAjaxResponse:function(b,c){this._ajaxLoading=!1,this._ajaxLastUrl=c.url,this._ajaxDesc=c.response},_handleError:function(b){this.fire('iron-component-page-error',b.detail)},_handleComponentSelectedEvent:function(b){var c=this._findDescriptor(b.detail);c?this.active=b.detail:console.warn('Could not navigate to ',b.detail)},marshal:function(){var b=JSON.stringify(this.docElements||[],null,'  ');return'<'+this.is+'>\n'+b.replace(/</g,'&lt;').replace(/>/g,'&gt;')+'\n</'+this.is+'>'},_demoView:function(b){return'demo:'+b},_viewType:function(b){return b?b.split(':')[0]:null}})})();</script></dom-module></body></html>